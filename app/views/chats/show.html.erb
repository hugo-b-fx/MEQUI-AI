<div class="chat-container d-flex flex-column">

  <!-- HEADER -->
  <div class="chat-header d-flex align-items-center px-3 py-2">
    <div class="avatar-ai me-2">ğŸ</div>
    <div>
      <strong>MequiBot IA</strong><br>
      <small class="text-success">En ligne</small>
    </div>
  </div>

  <!-- MESSAGES -->
  <div id="messages"
       class="chat-messages flex-grow-1 px-3 py-3"
       data-controller="autoscroll">

    <%= render partial: "messages/message", collection: @messages %>

  </div>

  <!-- INPUT AREA -->
  <div class="chat-input px-3 py-2">
    <%= simple_form_for [@chat, @message],
          url: chat_messages_path(@chat),
          data: { turbo_stream: "true" },
          html: { id: "new_message_form", class: "d-flex align-items-center w-100", data: { turbo: "true" } } do |f| %>

      <%= f.input :content,
            label: false,
            placeholder: "Pose ta questionâ€¦",
            input_html: { class: "message-field flex-grow-1" } %>

      <button type="submit" class="send-btn ms-2">
        â¤
      </button>

    <% end %>
  </div>

</div>
